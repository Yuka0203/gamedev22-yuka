<html>
<head>
  <title>Breakout2 Yuka's Game</title>
  <meta charset="UTF-8">
  <style>
  html, body {
    height: 100%;
    margin: 0;
  }

  body {
    background: DarkSlateGray;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  </style>
</head>
<body><font color=white>
  <h4>Version 0.0.0.5</h4>
  
<h3>Instruction:</h3>
  <li>Click Space key to start
  <li>Use arrow keys to move the paddle        
  <li>If the ball goes falldown, you lose
  <li>Have fun!
  <li>wanna add score (be able to store), change background, add sound, add image on bricks and paddle
  <li><a href="https://gist.github.com/straker/98a2aed6a7686d26c04810f08bfaf66b">Good reference Breakout</a>
  <li><a href="https://levelup.gitconnected.com/game-development-breakout-in-javascript-5e5d142d3203">Good reference</a>
  <li><a href="https://developer.mozilla.org/en-US/docs/Games/Tutorials/2D_Breakout_game_pure_JavaScript/Track_the_score_and_win">Good reference 2</a></li>
  </font>
  
  
<canvas width="400" height="500" id="game"></canvas>
  
  
  
  
  
  
  
  
<script>
const canvas = document.getElementById('game');
const context = canvas.getContext('2d');
  

  
// each row is 14 bricks long. the level consists of 6 blank rows then 8 rows
// of 4 colors: red, orange, green, and yellow
const level1 = [
  [],
  [],
  [],
  [],
  [],
  [],
  [],
  [],
  [],
  [],
  [],
  [],
  [],
  ['Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y']
];
  
// create a mapping between color short code (R, O, G, Y) and color name
const colorMap = {
  'R': 'red',
  'O': 'orange',
  'G': 'green',
  'Y': 'yellow'
};

// use a 2px gap between each brick
const brickGap = 2;
const brickWidth = 25;
const brickHeight = 12;
const brickScore = 0;

// the wall width takes up the remaining space of the canvas width. with 14 bricks
// and 13 2px gaps between them, thats: 400 - (14 * 25 + 2 * 13) = 24px. so each 
// wall will be 12px
const wallSize = 12;
const bricks = [];
  
   
// create the level by looping over each row and column in the level1 array
// and creating an object with the bricks position (x, y) and color
                                                                                        // may be i can add information about score
for (let row = 0; row < level1.length; row++) {
  for (let col = 0; col < level1[row].length; col++) {
    const colorCode = level1[row][col];

    bricks.push({
      x: wallSize + (brickWidth + brickGap) * col,
      y: wallSize + (brickHeight + brickGap) * row,
      color: colorMap[colorCode],
      width: brickWidth,
      height: brickHeight
    });
  }
}

const paddle = {
  // place the paddle horizontally in the middle of the screen
  x: canvas.width / 2 - brickWidth / 2,
  y: 400,
  width: 70,
  height: 10,

  // paddle x velocity
  dx: 0
};

const ball = {
  x: 130,
  y: 260,
  width: 8,
  height: 8,

  // how fast the ball should go in either the x or y direction
  speed: 4,

  // ball velocity
  dx: 0,
  dy: 0
};
 
  
  //add image
let images = {
    background: new Image(),
    ball: new Image(),
    paddle: new Image()
} 
images.background.src = 'https://www.google.com/imgres?imgurl=https%3A%2F%2Fstatic9.depositphotos.com%2F1441191%2F1196%2Fv%2F450%2Fdepositphotos_11960583-stock-illustration-green-landscape.jpg&imgrefurl=https%3A%2F%2Fdepositphotos.com%2Fvector-images%2Foutside.html&tbnid=0d7yQ_M5nGJNxM&vet=12ahUKEwiJ-7uL0YD4AhV5IDQIHRzBBQIQMygCegUIARDLAQ..i&docid=8rEvGRCy8LA8qM&w=600&h=400&q=outside%20illustration&ved=2ahUKEwiJ-7uL0YD4AhV5IDQIHRzBBQIQMygCegUIARDLAQ&safe=active&ssui=on';
images.ball.src = 'https://media.istockphoto.com/vectors/bubbles-vector-id1254918509?k=20&m=1254918509&s=612x612&w=0&h=s02yNiYIXajo11MEZUU9g0nSfbQxK_ui3K4h8A2ib2o=';
images.paddle.src = 'data:image/jpeg;base64,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';
  function paint() {
    ctx.drawImage(images.background, 0, 0, canvas.width, canvas.height);
    ctx.drawImage(images.ball, ball.x, ball.y, 2 * ball.width, 2 * ball.height);
    ctx.drawImage(images.paddle, paddle.x, paddle.y, paddle.width, paddle.height);
  }
  
  
  
  
  
  
  
// check for collision between two objects using axis-aligned bounding box (AABB)
// see https://developer.mozilla.org/en-US/docs/Games/Techniques/2D_collision_detection
function collides(obj1, obj2) {
  return obj1.x < obj2.x + obj2.width &&
         obj1.x + obj1.width > obj2.x &&
         obj1.y < obj2.y + obj2.height &&
         obj1.y + obj1.height > obj2.y;
}

  
  
  
  
  
  
  
//for adding score  
const x = canvas.width/2;  
const y = canvas.height-30;  
const dy = -2
  
  function collisionDetection() {
    for(var c=0; c<1; c++) {
        for(var r=0; r<9; r++) {
            var b = bricks[c][r];
            if(b.status == 1) {
                if(x > b.x && x < b.x+brickWidth && y > b.y && y < b.y+brickHeight) {
                    dy = -dy;
                    b.status = 0;
                    brickScore++;
                }
            }
        }
    }
}

 
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
// game loop
function loop() {
  requestAnimationFrame(loop);
  context.clearRect(0,0,canvas.width,canvas.height);

  // move paddle by it's velocity
  paddle.x += paddle.dx;

  // prevent paddle from going through walls
  if (paddle.x < wallSize) {
    paddle.x = wallSize;
  }
  else if (paddle.x > canvas.width - 82) {
    paddle.x = canvas.width - 82;
  }
  
  // move ball by it's velocity
  ball.x += ball.dx;
  ball.y += ball.dy;

  // prevent ball from going through walls by changing its velocity
  // left & right walls
  if (ball.x < wallSize) {
    ball.x = wallSize;
    ball.dx *= -1;
  }
  else if (ball.x + ball.width > canvas.width - wallSize) {
    ball.x = canvas.width - wallSize - ball.width;
    ball.dx *= -1;
  }
  // top wall
  if (ball.y < wallSize) {
    ball.y = wallSize;
    ball.dy *= -1;
  }

  // reset ball if it goes below the screen
  if (ball.y > canvas.height) {
    ball.x = 130;
    ball.y = 260;
    ball.dx = 0;
    ball.dy = 0;
    alert('GAME OVER. TRY AGAIN')  
    location.reload()  
  }
  
  if (bricks == 0) {
     alert('YOU WIN! GO TO NEXT LEVEL!')
    location = 't4a04-game-level-four-by-yuka.html'
}
  
  

  // check to see if ball collides with paddle. if they do change y velocity
  if (collides(ball, paddle)) {
    ball.dy *= -1;
    

    // move ball above the paddle otherwise the collision will happen again
    // in the next frame
    ball.y = paddle.y - ball.height;
  }

  // check to see if ball collides with a brick. if it does, remove the brick
  // and change the ball velocity based on the side the brick was hit on
  for (let i = 0; i < bricks.length; i++) {
     
    
    const brick = bricks[i];
    
    
    
    if (collides(ball, brick)) {
      // remove brick from the bricks array
     
      bricks.splice(i, 1) 
      
      
      // ball is above or below the brick, change y velocity
      // account for the balls speed since it will be inside the brick when it
      // collides
      if (ball.y + ball.height - ball.speed <= brick.y ||
          ball.y >= brick.y + brick.height - ball.speed) {
        ball.dy *= -1.01;
      }
      // ball is on either side of the brick, change x velocity
      else {
        ball.dx *= -1.01;
      }
      
      break;
    } 
    
   
    
  }// function(loop) is done
  
  
  
  
  
  

  
  
  
  
  
  //draw score
  context.font = '30px Arial';
  context.fillStyle = 'white';
  context.fillText("Score: " + brickScore, 150, 40);
  
  // draw walls
  context.fillStyle = 'lightgrey';
  context.fillRect(0, 0, canvas.width, wallSize);
  context.fillRect(0, 0, wallSize, canvas.height);
  context.fillRect(canvas.width - wallSize, 0, wallSize, canvas.height);

  // draw ball if it's moving
  if (ball.dx || ball.dy) {
    context.fillRect(ball.x, ball.y, ball.width, ball.height);
  }

  // draw bricks
  bricks.forEach(function(brick) {
    context.fillStyle = brick.color;
    context.fillRect(brick.x, brick.y, brick.width, brick.height);
  });

  // draw paddle
  context.fillStyle = 'cyan';
  context.fillRect(paddle.x, paddle.y, paddle.width, paddle.height);
}

  
// listen to keyboard events to move the paddle
document.addEventListener('keydown', function(e) {
  // left arrow key
  if (e.which === 37) {
    paddle.dx = -4;
  }
  // right arrow key
  else if (e.which === 39) {
    paddle.dx = 4;
  }

  // space key =32, Enter key = 13
  // if they ball is not moving, we can launch the ball using the space key. ball
  // will move towards the bottom right to start
  if (ball.dx === 0 && ball.dy === 0 && e.which === 32) {
    ball.dx = ball.speed;
    ball.dy = ball.speed;
  }
});

// listen to keyboard events to stop the paddle if key is released
document.addEventListener('keyup', function(e) {
  if (e.which === 37 || e.which === 39) {
    paddle.dx = 0;
  }
});
  

// start the game
requestAnimationFrame(loop);
</script>
</body>
</html>
